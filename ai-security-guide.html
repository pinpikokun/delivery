<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI開発ツール セキュリティ脅威と自衛ガイド</title>
  <style>
    /* ===== Design Tokens ===== */
    :root {
      --gray-50: #f9fafb; --gray-100: #f3f4f6; --gray-200: #e5e7eb;
      --gray-300: #d1d5db; --gray-400: #9ca3af; --gray-500: #6b7280;
      --gray-600: #4b5563; --gray-700: #374151; --gray-800: #1f2937;
      --blue-50: #eff6ff; --blue-100: #dbeafe; --blue-200: #bfdbfe;
      --blue-400: #60a5fa; --blue-500: #3b82f6; --blue-600: #2563eb;
      --orange-50: #fff7ed; --orange-100: #ffedd5; --orange-200: #fed7aa;
      --orange-400: #fb923c; --orange-500: #f97316; --orange-600: #ea580c;
      --red-50: #fef2f2; --red-100: #fee2e2; --red-200: #fecaca;
      --red-400: #f87171; --red-500: #ef4444; --red-600: #dc2626;
      --green-50: #f0fdf4; --green-100: #dcfce7;
      --green-500: #22c55e; --green-600: #16a34a;
      --purple-50: #faf5ff; --purple-100: #f3e8ff;
      --purple-400: #c084fc; --purple-500: #a855f7; --purple-600: #9333ea;
      --radius: 16px; --radius-sm: 10px; --radius-pill: 9999px;
      --shadow: 0 1px 3px rgba(0,0,0,.08), 0 4px 12px rgba(0,0,0,.05);
      --shadow-lg: 0 4px 16px rgba(0,0,0,.1), 0 8px 32px rgba(0,0,0,.06);
      --font: 'Segoe UI', 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;
    }

    /* ===== Reset & Base ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: var(--font);
      background: var(--gray-50);
      color: var(--gray-800);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ===== Page Routing ===== */
    .page { display: none; animation: fadeIn .35s ease; }
    .page.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

    /* ===== Overview ===== */
    .overview { padding: 60px 24px 100px; max-width: 1100px; margin: 0 auto; text-align: center; }
    .overview .top-badge {
      display: inline-flex; align-items: center; gap: 6px;
      background: var(--red-50); color: var(--red-600);
      border: 1px solid var(--red-200); border-radius: var(--radius-pill);
      padding: 6px 18px; font-size: 14px; font-weight: 600; margin-bottom: 20px;
    }
    .overview h1 { font-size: 38px; font-weight: 800; margin-bottom: 8px; letter-spacing: -0.5px; }
    .overview .subtitle { font-size: 15px; color: var(--gray-500); margin-bottom: 12px; }
    .overview .meta-info { font-size: 13px; color: var(--gray-400); margin-bottom: 48px; }
    .overview .source-link {
      position: absolute; top: 20px; right: 20px; color: var(--gray-500);
      text-decoration: none; font-size: 0.85rem; display: flex; align-items: center;
      gap: 4px; font-weight: 600; transition: color 0.2s;
    }
    .overview .source-link:hover { color: var(--gray-800); }

    .cards-row { display: flex; align-items: stretch; justify-content: center; gap: 0; flex-wrap: wrap; }
    .arrow { display: flex; align-items: center; font-size: 28px; color: var(--gray-300); padding: 0 6px; font-weight: 300; }

    /* Card */
    .gen-card {
      background: #fff; border-radius: var(--radius); box-shadow: var(--shadow);
      padding: 28px 24px; width: 300px; text-align: left;
      cursor: pointer; transition: transform .2s, box-shadow .2s;
      border: 2px solid transparent; position: relative;
    }
    .gen-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
    .gen-card.red-highlight { border-color: var(--red-400); }
    .gen-card.orange-highlight { border-color: var(--orange-400); }
    .gen-card.purple-highlight { border-color: var(--purple-400); }

    .gen-card .card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; }
    .gen-card .card-icon {
      width: 40px; height: 40px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center; font-size: 18px;
    }
    .card-icon.red-icon { background: var(--red-50); color: var(--red-500); }
    .card-icon.orange-icon { background: var(--orange-100); color: var(--orange-600); }
    .card-icon.purple-icon { background: var(--purple-50); color: var(--purple-500); }

    .gen-card .gen-label { font-size: 12px; color: var(--gray-400); }
    .gen-card .gen-title { font-size: 20px; font-weight: 700; }

    .gen-card .tool-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .gen-card .tool-badge {
      display: inline-block; border-radius: var(--radius-pill);
      padding: 3px 12px; font-size: 13px; font-weight: 600;
    }
    .tool-badge.red-bg { background: var(--red-50); color: var(--red-600); }
    .tool-badge.orange-bg { background: var(--orange-100); color: var(--orange-600); }
    .tool-badge.purple-bg { background: var(--purple-100); color: var(--purple-600); }
    .gen-card .tool-year { font-size: 13px; color: var(--gray-400); }

    .gen-card .card-desc { font-size: 15px; font-weight: 600; margin-bottom: 10px; }
    .gen-card ul { list-style: none; padding: 0; }
    .gen-card ul li { font-size: 14px; color: var(--gray-600); padding: 2px 0; }
    .gen-card ul li::before { content: '●'; font-size: 8px; margin-right: 8px; vertical-align: middle; }

    .gen-card .card-footer {
      margin-top: 14px; padding: 8px 12px; border-radius: var(--radius-sm);
      font-size: 13px; display: flex; align-items: center; gap: 6px;
    }
    .card-footer.danger { background: var(--red-50); color: var(--red-500); }
    .card-footer.warn { background: var(--orange-50); color: var(--orange-500); }

    /* Callout */
    .callout-box {
      margin-top: 48px; text-align: left;
      background: #fff; border: 2px solid var(--red-400); border-radius: var(--radius);
      padding: 20px 24px; display: flex; align-items: flex-start; gap: 16px;
      box-shadow: var(--shadow);
    }
    .callout-box .callout-icon {
      width: 44px; height: 44px; border-radius: 12px;
      background: var(--red-500); color: #fff;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; font-size: 18px;
    }
    .callout-box .callout-title { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
    .callout-box .callout-desc { font-size: 14px; color: var(--gray-600); line-height: 1.7; }
    .callout-box .callout-desc .highlight { color: var(--red-500); font-weight: 700; }

    /* ===== Detail Page ===== */
    .detail { padding: 40px 24px 100px; max-width: 1100px; margin: 0 auto; }
    .back-btn {
      display: inline-flex; align-items: center; gap: 6px;
      background: none; border: 1px solid var(--gray-200); border-radius: var(--radius-pill);
      padding: 8px 18px; font-size: 14px; color: var(--gray-600); cursor: pointer;
      transition: background .15s; margin-bottom: 28px;
    }
    .back-btn:hover { background: var(--gray-100); }

    .detail .page-badge {
      display: inline-block; border-radius: var(--radius-pill);
      padding: 5px 16px; font-size: 13px; font-weight: 600; margin-bottom: 12px;
    }
    .badge-red { background: var(--red-50); color: var(--red-600); }
    .badge-orange { background: var(--orange-100); color: var(--orange-600); }
    .badge-purple { background: var(--purple-100); color: var(--purple-600); }
    .badge-green { background: var(--green-50); color: var(--green-600); }

    .detail h2 { font-size: 32px; font-weight: 800; margin-bottom: 6px; }
    .detail .detail-sub { font-size: 15px; color: var(--gray-400); margin-bottom: 36px; }

    .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; }
    .detail-section h3 {
      font-size: 16px; font-weight: 700; margin-bottom: 16px;
      display: flex; align-items: center; gap: 8px;
    }
    .detail-section h3 .sec-icon { font-size: 18px; }

    /* Step card */
    .step-list { display: flex; flex-direction: column; gap: 12px; }
    .step-card {
      display: flex; align-items: flex-start; gap: 14px;
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 16px; transition: transform .15s;
    }
    .step-card:hover { transform: translateX(4px); }
    .step-card .step-icon {
      width: 36px; height: 36px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; font-size: 16px;
    }
    .step-icon.red-circle { background: var(--red-100); color: var(--red-500); }
    .step-icon.orange-circle { background: var(--orange-100); color: var(--orange-500); }
    .step-icon.gray-circle { background: var(--gray-100); color: var(--gray-500); }
    .step-icon.purple-circle { background: var(--purple-100); color: var(--purple-500); }

    .step-card .step-num {
      display: inline-block; font-size: 11px; font-weight: 700; border-radius: var(--radius-pill);
      padding: 1px 8px; margin-bottom: 2px;
    }
    .step-num.red-num { background: var(--red-100); color: var(--red-600); }
    .step-num.orange-num { background: var(--orange-100); color: var(--orange-600); }
    .step-num.gray-num { background: var(--gray-100); color: var(--gray-600); }
    .step-card .step-title { font-size: 15px; font-weight: 700; }
    .step-card .step-desc { font-size: 13px; color: var(--gray-500); margin-top: 2px; }

    /* Loop note / warning note */
    .loop-note {
      margin-top: 8px; padding: 10px 14px; border-radius: var(--radius-sm);
      font-size: 13px; display: flex; align-items: center; gap: 8px;
    }
    .loop-note.red-note { background: var(--red-50); border: 1px solid var(--red-200); color: var(--red-600); }
    .loop-note.orange-note { background: var(--orange-50); border: 1px solid var(--orange-200); color: var(--orange-600); }

    /* Pain card */
    .pain-list { display: flex; flex-direction: column; gap: 12px; }
    .pain-card {
      display: flex; align-items: flex-start; gap: 14px;
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 16px;
    }
    .pain-card .pain-icon {
      width: 36px; height: 36px; border-radius: var(--radius-sm);
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; font-size: 16px;
    }
    .pain-icon.red-pi { background: var(--red-50); color: var(--red-500); }
    .pain-icon.orange-pi { background: var(--orange-50); color: var(--orange-500); }
    .pain-card .pain-title { font-size: 15px; font-weight: 700; }
    .pain-card .pain-desc { font-size: 13px; color: var(--gray-500); margin-top: 2px; }

    /* Feature card */
    .feature-list { display: flex; flex-direction: column; gap: 12px; }
    .feature-card {
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 16px; display: flex; align-items: flex-start; gap: 14px;
      border-left: 3px solid transparent;
    }
    .feature-card.red-border { border-left-color: var(--red-400); }
    .feature-card.orange-border { border-left-color: var(--orange-400); }
    .feature-card.green-border { border-left-color: var(--green-500); }
    .feature-card.blue-border { border-left-color: var(--blue-400); }
    .feature-card .feat-icon {
      width: 36px; height: 36px; border-radius: var(--radius-sm);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 16px;
    }
    .feat-icon.red-fi { background: var(--red-50); color: var(--red-500); }
    .feat-icon.orange-fi { background: var(--orange-50); color: var(--orange-500); }
    .feat-icon.green-fi { background: var(--green-50); color: var(--green-500); }
    .feat-icon.blue-fi { background: var(--blue-50); color: var(--blue-500); }
    .feature-card .feat-title { font-size: 15px; font-weight: 700; }
    .feature-card .feat-desc { font-size: 13px; color: var(--gray-500); margin-top: 2px; }
    .feature-card .feat-note { font-size: 12px; margin-top: 4px; font-weight: 600; }
    .feat-note.red-note { color: var(--red-500); }
    .feat-note.green-note { color: var(--green-600); }

    /* Checklist */
    .check-list { display: flex; flex-direction: column; gap: 8px; }
    .check-item {
      display: flex; align-items: center; gap: 10px;
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 12px 16px; font-size: 14px;
    }
    .check-mark { font-weight: 700; font-size: 16px; flex-shrink: 0; }
    .check-mark.green { color: var(--green-500); }
    .check-mark.red { color: var(--red-500); }
    .check-item .check-label { font-weight: 600; }
    .check-item .check-desc { color: var(--gray-400); margin-left: 4px; }

    /* Stats row */
    .stats-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 20px; }
    .stat-box {
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 16px; text-align: center;
    }
    .stat-box .stat-value { font-size: 24px; font-weight: 800; }
    .stat-value.red-val { color: var(--red-500); }
    .stat-value.orange-val { color: var(--orange-500); }
    .stat-box .stat-label { font-size: 12px; color: var(--gray-400); }
    .stat-box .stat-sub { font-size: 11px; color: var(--gray-400); }

    /* Quote */
    .quote-box {
      margin-top: 16px; background: var(--red-50); border: 1px solid var(--red-200);
      border-radius: var(--radius-sm); padding: 14px 16px; font-size: 13px;
      color: var(--red-600); font-style: italic; line-height: 1.7;
    }
    .quote-box.blue-quote {
      background: var(--blue-50); border-color: var(--blue-200); color: var(--blue-600);
    }
    .quote-box .quote-author { font-style: normal; text-align: right; margin-top: 6px; color: var(--gray-400); font-size: 12px; }

    /* Case box */
    .case-box {
      background: var(--gray-50); border: 1px solid var(--gray-200);
      border-radius: var(--radius-sm); padding: 18px; margin-bottom: 16px;
    }
    .case-box h4 { font-size: 14px; font-weight: 700; margin-bottom: 6px; display: flex; align-items: center; gap: 6px; }
    .case-box p { font-size: 13px; color: var(--gray-600); line-height: 1.7; }

    /* Workflow comparison */
    .workflow-box {
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      padding: 20px; margin-bottom: 16px;
    }
    .wf-row { margin-bottom: 16px; }
    .wf-row:last-child { margin-bottom: 0; }
    .wf-label {
      display: inline-block; font-size: 12px; font-weight: 700; border-radius: var(--radius-pill);
      padding: 2px 10px; margin-bottom: 8px;
    }
    .wf-label.wf-danger { background: var(--red-100); color: var(--red-600); }
    .wf-label.wf-safe { background: var(--green-100); color: var(--green-600); }
    .wf-tag { font-size: 12px; color: var(--gray-400); float: right; margin-top: 2px; }
    .wf-steps {
      display: flex; align-items: center; gap: 6px; flex-wrap: wrap;
      font-size: 13px; color: var(--gray-600);
    }
    .wf-steps .wf-step { background: var(--gray-50); padding: 4px 10px; border-radius: 6px; }
    .wf-steps.wf-danger-steps .wf-step { background: var(--red-50); color: var(--red-600); }
    .wf-steps.wf-safe-steps .wf-step { background: var(--green-50); color: var(--green-600); }
    .wf-steps .wf-arrow { color: var(--gray-300); }

    /* Danger table */
    .danger-table {
      width: 100%; border-collapse: separate; border-spacing: 0;
      background: #fff; border-radius: var(--radius-sm); box-shadow: var(--shadow);
      overflow: hidden; margin-top: 12px;
    }
    .danger-table th {
      background: var(--gray-100); padding: 10px 14px; font-size: 13px;
      font-weight: 700; text-align: left; color: var(--gray-700);
    }
    .danger-table td {
      padding: 10px 14px; font-size: 13px; color: var(--gray-600);
      border-top: 1px solid var(--gray-100);
    }
    .danger-table .signal-badge {
      display: inline-block; background: var(--red-50); color: var(--red-600);
      padding: 2px 8px; border-radius: 4px; font-size: 12px; font-weight: 600; font-family: monospace;
    }

    /* ===== Responsive ===== */
    @media (max-width: 900px) {
      .cards-row { flex-direction: column; align-items: center; gap: 16px; }
      .arrow { transform: rotate(90deg); padding: 4px 0; }
      .detail-grid { grid-template-columns: 1fr; }
      .stats-row { grid-template-columns: 1fr; }
      .overview h1 { font-size: 26px; }
    }
    @media (max-width: 600px) {
      .gen-card { width: 100%; max-width: 340px; }
      .overview { padding: 36px 16px 80px; }
      .detail { padding: 24px 16px 80px; }
      .detail h2 { font-size: 24px; }
    }
  </style>
</head>
<body>

  <!-- ============ OVERVIEW ============ -->
  <section id="overview" class="page active">
    <div class="overview" style="position: relative;">
      <a href="https://x.com/yume_ai123/status/2024001670200651978" target="_blank" class="source-link">&#8599; 出典: @yume_ai123</a>
      <div class="top-badge">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        AI開発ツール セキュリティガイド
      </div>
      <h1>知らないと被害に遭う<br>3つの脅威</h1>
      <p class="subtitle">Claude Code / Antigravity / Cursor ユーザー必読のセキュリティ対策</p>
      <p class="meta-info">2026年2月版 ｜ 初心者から中級者まで対応</p>

      <div class="cards-row">
        <!-- Threat 1 -->
        <div class="gen-card red-highlight" onclick="navigate('worm')">
          <div class="card-header">
            <div class="card-icon red-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
            </div>
            <div>
              <div class="gen-label">脅威 1</div>
              <div class="gen-title">Shai-Hulud</div>
            </div>
          </div>
          <div class="tool-row">
            <span class="tool-badge red-bg">ワーム攻撃</span>
            <span class="tool-year">796+パッケージ汚染</span>
          </div>
          <div class="card-desc">npmパッケージ汚染</div>
          <ul>
            <li>インストール時に即実行</li>
            <li>個人情報を自動窃取</li>
            <li>自己増殖で他者にも拡散</li>
          </ul>
          <div class="card-footer danger">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
            Yを押した瞬間に感染
          </div>
        </div>

        <div class="arrow">+</div>

        <!-- Threat 2 -->
        <div class="gen-card orange-highlight" onclick="navigate('hallucination')">
          <div class="card-header">
            <div class="card-icon orange-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 15h8M9 9h.01M15 9h.01"/></svg>
            </div>
            <div>
              <div class="gen-label">脅威 2</div>
              <div class="gen-title">幻覚スクワッティング</div>
            </div>
          </div>
          <div class="tool-row">
            <span class="tool-badge orange-bg">AI標的型</span>
            <span class="tool-year">2026年〜増加</span>
          </div>
          <div class="card-desc">AIの幻覚を悪用</div>
          <ul>
            <li>AIが存在しない名前を提案</li>
            <li>攻撃者が先回りで登録</li>
            <li>そのままインストールで感染</li>
          </ul>
          <div class="card-footer warn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
            AIを騙す→AIが人間を騙す
          </div>
        </div>

        <div class="arrow">+</div>

        <!-- Threat 3 -->
        <div class="gen-card purple-highlight" onclick="navigate('injection')">
          <div class="card-header">
            <div class="card-icon purple-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
            </div>
            <div>
              <div class="gen-label">脅威 3</div>
              <div class="gen-title">プロンプト<br>インジェクション</div>
            </div>
          </div>
          <div class="tool-row">
            <span class="tool-badge purple-bg">隠し指令型</span>
            <span class="tool-year">installなしで成立</span>
          </div>
          <div class="card-desc">Webページに罠を仕込む</div>
          <ul>
            <li>人間に見えない裏指令</li>
            <li>AIが読み込み即実行</li>
            <li>.envやパスワードを外部送信</li>
          </ul>
          <div class="card-footer danger">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
            記事を読ませるだけで被害
          </div>
        </div>
      </div>

      <!-- Bottom CTA -->
      <div class="callout-box">
        <div class="callout-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 9v4m0 4h.01"/></svg>
        </div>
        <div>
          <div class="callout-title">共通の教訓</div>
          <div class="callout-desc"><span class="highlight">AIはミスをします。最終確認は人間が行う。</span><br>「知らない名前はGoogleで検索する」これだけでも、今日から徹底してください。<br>各カードをクリックして詳細と対策を確認できます。</div>
        </div>
      </div>

      <!-- Link to countermeasures -->
      <div style="margin-top: 20px;">
        <button onclick="navigate('countermeasures')" style="background: linear-gradient(135deg, var(--green-500), var(--green-600)); color: #fff; border: none; border-radius: var(--radius-pill); padding: 12px 32px; font-size: 15px; font-weight: 700; cursor: pointer; box-shadow: var(--shadow); transition: transform .15s, box-shadow .15s;">
          実践的な対策ガイドを見る →
        </button>
      </div>
    </div>
  </section>

  <!-- ============ WORM DETAIL ============ -->
  <section id="worm" class="page">
    <div class="detail">
      <button class="back-btn" onclick="navigate('overview')">← 戻る</button>
      <div class="page-badge badge-red">脅威 1</div>
      <h2>Shai-Hulud ワーム攻撃</h2>
      <p class="detail-sub">npmパッケージを汚染し、インストールした瞬間に個人情報を窃取する自己増殖型マルウェア</p>

      <div class="stats-row">
        <div class="stat-box">
          <div class="stat-value red-val">796+</div>
          <div class="stat-label">汚染パッケージ</div>
          <div class="stat-sub">npm上で確認済み</div>
        </div>
        <div class="stat-box">
          <div class="stat-value red-val">~1秒</div>
          <div class="stat-label">情報抜取開始</div>
          <div class="stat-sub">Yを押してから</div>
        </div>
        <div class="stat-box">
          <div class="stat-value red-val">~10秒</div>
          <div class="stat-label">証拠隠滅完了</div>
          <div class="stat-sub">復旧困難に</div>
        </div>
      </div>

      <div class="detail-grid">
        <!-- Left: Infection Flow -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 100-6.68L1 10"/></svg>
          </span> 感染フロー</h3>
          <div class="step-list">
            <div class="step-card">
              <div class="step-icon red-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
              </div>
              <div>
                <span class="step-num red-num">Step 1</span>
                <div class="step-title">汚染パッケージの公開</div>
                <div class="step-desc">攻撃者がnpmに悪意あるコードを仕込んだパッケージを公開</div>
              </div>
            </div>
            <div class="step-card">
              <div class="step-icon red-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
              </div>
              <div>
                <span class="step-num red-num">Step 2</span>
                <div class="step-title">AIがインストールを提案</div>
                <div class="step-desc">Claude Code等がそのパッケージのインストールを提案</div>
              </div>
            </div>
            <div class="step-card">
              <div class="step-icon red-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>
              </div>
              <div>
                <span class="step-num red-num">Step 3</span>
                <div class="step-title">ユーザーが「Y」で承認</div>
                <div class="step-desc">確認せずにYes連打で承認してしまう</div>
              </div>
            </div>
            <div class="step-card" style="border: 1px solid var(--red-200);">
              <div class="step-icon red-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              </div>
              <div>
                <span class="step-num red-num">Step 4</span>
                <div class="step-title">preinstallで即時起動</div>
                <div class="step-desc">インストール完了前にマルウェアが実行される</div>
              </div>
            </div>
          </div>
          <div class="loop-note red-note">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
            気づいたときにはすでに手遅れ — preinstallスクリプトとして動作
          </div>
        </div>

        <!-- Right: Damage Stages -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
          </span> 被害の3段階</h3>
          <div class="feature-list">
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
              </div>
              <div>
                <div class="feat-title">第1段階：個人情報の窃取</div>
                <div class="feat-desc">APIキー、パスワード、SSH鍵、.envファイルの内容が攻撃者のサーバーに送信される</div>
                <div class="feat-note red-note">開発環境の機密情報がすべて漏洩</div>
              </div>
            </div>
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 100-6.68L1 10"/></svg>
              </div>
              <div>
                <div class="feat-title">第2段階：自己増殖・拡散</div>
                <div class="feat-desc">あなたのnpmパッケージにマルウェアが埋め込まれ再公開。他の開発者にも感染が拡大</div>
                <div class="feat-note red-note">被害者が加害者に変わる</div>
              </div>
            </div>
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              </div>
              <div>
                <div class="feat-title">第3段階：証拠隠滅</div>
                <div class="feat-desc">データ送信がブロックされた場合、/homeディレクトリや特定ファイルを削除。復旧が極めて困難に</div>
                <div class="feat-note red-note">v2「The Second Coming」の標準機能</div>
              </div>
            </div>
          </div>

          <div class="quote-box">
            「家の鍵を開ける前に、ドアの前に立っている人が信用できるか確認する」のと同じ。Yを押すということは「家の鍵を開けて中に入れる」という行為です。
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ HALLUCINATION DETAIL ============ -->
  <section id="hallucination" class="page">
    <div class="detail">
      <button class="back-btn" onclick="navigate('overview')">← 戻る</button>
      <div class="page-badge badge-orange">脅威 2</div>
      <h2>幻覚スクワッティング</h2>
      <p class="detail-sub">AIのハルシネーションを逆手に取り、人間ではなくAIを騙す新たな攻撃手法</p>

      <div class="detail-grid">
        <!-- Left: How it works -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg>
          </span> 攻撃の仕組み</h3>
          <div class="step-list">
            <div class="step-card">
              <div class="step-icon orange-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
              </div>
              <div>
                <span class="step-num orange-num">Step 1</span>
                <div class="step-title">AIが存在しないパッケージを提案</div>
                <div class="step-desc">AIが自信満々に存在しないパッケージ名を提案（ハルシネーション）</div>
              </div>
            </div>
            <div class="step-card">
              <div class="step-icon orange-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
              </div>
              <div>
                <span class="step-num orange-num">Step 2</span>
                <div class="step-title">攻撃者が先回りで登録</div>
                <div class="step-desc">「AIが提案しそうな名前」をnpm上で取得し、ウイルスを仕込んで待ち伏せ</div>
              </div>
            </div>
            <div class="step-card" style="border: 1px solid var(--orange-200);">
              <div class="step-icon orange-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              </div>
              <div>
                <span class="step-num orange-num">Step 3</span>
                <div class="step-title">ユーザーがそのままインストール</div>
                <div class="step-desc">AIの提案を信じてインストール → 攻撃成立</div>
              </div>
            </div>
          </div>
          <div class="loop-note orange-note">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
            核心：人間を騙すのではなく、AIを騙す → AIが人間を騙す
          </div>

          <div class="case-box" style="margin-top: 16px;">
            <h4>
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg>
              Bunの悪用
            </h4>
            <p>最近の亜種では、高速ランタイム「Bun」のインストーラー（setup_bun.js）を装って侵入するケースが増加。Node.jsベースのセキュリティスキャンをすり抜ける。</p>
          </div>
        </div>

        <!-- Right: Why Claude Code users are targeted -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
          </span> なぜClaude Codeユーザーが狙われるか</h3>
          <div class="pain-list">
            <div class="pain-card">
              <div class="pain-icon orange-pi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>
              </div>
              <div>
                <div class="pain-title">Y連打の習慣</div>
                <div class="pain-desc">確認が頻繁に表示され、作業に集中するとつい流れ作業で承認してしまう</div>
              </div>
            </div>
            <div class="pain-card">
              <div class="pain-icon orange-pi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              </div>
              <div>
                <div class="pain-title">preinstallの罠</div>
                <div class="pain-desc">Shai-Huludはインストール完了前に動くため、気づいたときには手遅れ</div>
              </div>
            </div>
            <div class="pain-card">
              <div class="pain-icon orange-pi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
              </div>
              <div>
                <div class="pain-title">AI開発ツール全般が対象</div>
                <div class="pain-desc">Antigravity、Cursorなど「npm install」を内部で使用するツールすべてにリスクあり</div>
              </div>
            </div>
          </div>

          <div class="workflow-box" style="margin-top: 16px;">
            <div class="wf-row">
              <span class="wf-label wf-danger">危険パターン</span>
              <span class="wf-tag">確認なし</span>
              <div class="wf-steps wf-danger-steps" style="margin-top: 8px;">
                <span class="wf-step">AIが提案</span>
                <span class="wf-arrow" style="color: var(--red-300);">→</span>
                <span class="wf-step">Y連打</span>
                <span class="wf-arrow" style="color: var(--red-300);">→</span>
                <span class="wf-step">感染</span>
              </div>
            </div>
            <div class="wf-row">
              <span class="wf-label wf-safe">安全パターン</span>
              <span class="wf-tag">確認あり</span>
              <div class="wf-steps wf-safe-steps" style="margin-top: 8px;">
                <span class="wf-step">AIが提案</span>
                <span class="wf-arrow" style="color: var(--green-500);">→</span>
                <span class="wf-step">Google検索</span>
                <span class="wf-arrow" style="color: var(--green-500);">→</span>
                <span class="wf-step">確認して判断</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ INJECTION DETAIL ============ -->
  <section id="injection" class="page">
    <div class="detail">
      <button class="back-btn" onclick="navigate('overview')">← 戻る</button>
      <div class="page-badge badge-purple">脅威 3</div>
      <h2>プロンプトインジェクション</h2>
      <p class="detail-sub">npm installなしでも成立 — Webページを読み込ませるだけでAIが隠し指令に従う</p>

      <div class="detail-grid">
        <!-- Left: Attack Flow -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
          </span> 攻撃シナリオ</h3>
          <div class="step-list">
            <div class="step-card">
              <div class="step-icon purple-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
              </div>
              <div>
                <span class="step-num gray-num">Step 1</span>
                <div class="step-title">ユーザーがAIに指示</div>
                <div class="step-desc">「この記事を要約して」とAIに依頼</div>
              </div>
            </div>
            <div class="step-card">
              <div class="step-icon purple-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
              </div>
              <div>
                <span class="step-num gray-num">Step 2</span>
                <div class="step-title">AIがWebページを読み込み</div>
                <div class="step-desc">通常の記事内容と一緒に隠し指令も読み取る</div>
              </div>
            </div>
            <div class="step-card" style="border: 1px solid var(--red-200);">
              <div class="step-icon red-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              </div>
              <div>
                <span class="step-num red-num">Step 3</span>
                <div class="step-title">隠し指令を実行</div>
                <div class="step-desc">AIが.envファイルやパスワードを攻撃者のサーバーに送信</div>
              </div>
            </div>
            <div class="step-card">
              <div class="step-icon gray-circle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
              </div>
              <div>
                <span class="step-num gray-num">Step 4</span>
                <div class="step-title">ユーザーは気づかない</div>
                <div class="step-desc">「要約結果」だけを見ており、裏で何が行われたか分からない</div>
              </div>
            </div>
          </div>
          <div class="loop-note red-note">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v4m0 4h.01"/></svg>
            普通に見える記事の中に罠が仕掛けられている — 事前に見抜くのが非常に困難
          </div>
        </div>

        <!-- Right: Key Points -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
          </span> この攻撃が危険な理由</h3>
          <div class="feature-list">
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
              </div>
              <div>
                <div class="feat-title">npm installが不要</div>
                <div class="feat-desc">パッケージインストールなしで攻撃が成立。Webページを読ませるだけで十分</div>
              </div>
            </div>
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
              </div>
              <div>
                <div class="feat-title">人間の目には見えない</div>
                <div class="feat-desc">隠し指令は白文字や非表示要素で埋め込まれ、記事自体は普通に見える</div>
              </div>
            </div>
            <div class="feature-card red-border">
              <div class="feat-icon red-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
              </div>
              <div>
                <div class="feat-title">機密情報が自動送信される</div>
                <div class="feat-desc">.envファイル、APIキー、パスワードなどがAIの手で外部に送信される</div>
              </div>
            </div>
          </div>

          <div class="case-box" style="margin-top: 16px;">
            <h4>
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              2026年2月現在の状況
            </h4>
            <p>Shai-Hulud 2.0のピーク（2025年11月）で汚染された主要パッケージは削除済み。しかし削除漏れのフォーク版や個人リポジトリに残存する感染コードが確認されており、攻撃者は幻覚スクワッティングへシフトしている。<strong>ツールだけでは防ぎきれない</strong>状況が続いている。</p>
          </div>

          <div class="quote-box blue-quote" style="margin-top: 16px;">
            共通の教訓：AIを盲信しない。最終確認は必ず人間が行う。
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ COUNTERMEASURES ============ -->
  <section id="countermeasures" class="page">
    <div class="detail">
      <button class="back-btn" onclick="navigate('overview')">← 戻る</button>
      <div class="page-badge badge-green">実践ガイド</div>
      <h2>実践的な対策ガイド</h2>
      <p class="detail-sub">多層防御モデル — 初級編（今日からできる）＆ 中級編（本格対策）</p>

      <div class="detail-grid">
        <!-- Left: Beginner -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </span> 初級編：今日からできる対策</h3>
          <div class="feature-list">
            <div class="feature-card green-border">
              <div class="feat-icon green-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
              </div>
              <div>
                <div class="feat-title">対策1: Yを押す前にGoogle検索</div>
                <div class="feat-desc">パッケージ名を検索し、公式npmページの存在・GitHubスター数1000以上・最終更新3ヶ月以内・他の開発者の使用実績を確認</div>
                <div class="feat-note green-note">最もシンプルかつ最も効果的</div>
              </div>
            </div>
            <div class="feature-card green-border">
              <div class="feat-icon green-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
              </div>
              <div>
                <div class="feat-title">対策2: プロンプトに制限を追加</div>
                <div class="feat-desc">「GitHubスター1000以上・更新3ヶ月以内のものに限定」「Shai-Hulud関連の疑わしいパッケージは避ける」と指示</div>
                <div class="feat-note green-note">一文追加するだけでリスク低減</div>
              </div>
            </div>
            <div class="feature-card green-border">
              <div class="feat-icon green-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg>
              </div>
              <div>
                <div class="feat-title">対策3: 危険シグナルで即停止</div>
                <div class="feat-desc">「Running preinstall script...」「setup_bun.js」「見覚えのないパッケージ名」が出たら即Ctrl+C</div>
                <div class="feat-note red-note">迷ったら止める</div>
              </div>
            </div>
            <div class="feature-card green-border">
              <div class="feat-icon green-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 100-6.68L1 10"/></svg>
              </div>
              <div>
                <div class="feat-title">対策4: トークン・SSH鍵の定期ローテーション</div>
                <div class="feat-desc">npmトークン、GitHubアクセストークン、SSH鍵を3ヶ月に1回は再発行</div>
                <div class="feat-note green-note">家の鍵を定期的に交換する発想</div>
              </div>
            </div>
          </div>

          <!-- Danger Signals Table -->
          <table class="danger-table" style="margin-top: 16px;">
            <thead>
              <tr><th>危険シグナル</th><th>意味・対処法</th></tr>
            </thead>
            <tbody>
              <tr><td><span class="signal-badge">preinstall script...</span></td><td>インストール完了前にスクリプト実行。即Ctrl+C</td></tr>
              <tr><td><span class="signal-badge">setup_bun.js</span></td><td>Shai-Huludの典型シグナル。要注意</td></tr>
              <tr><td><span class="signal-badge">見覚えのない名前</span></td><td>幻覚スクワッティングの可能性。Google検索で確認</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Right: Intermediate + Emergency -->
        <div class="detail-section">
          <h3><span class="sec-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
          </span> 中級編：本格的な対策</h3>
          <div class="feature-list">
            <div class="feature-card blue-border">
              <div class="feat-icon blue-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
              </div>
              <div>
                <div class="feat-title">対策5: ignore-scripts設定</div>
                <div class="feat-desc">npm config set ignore-scripts true でインストール時スクリプトを無効化。Shai-Huludの99%を無効化</div>
              </div>
            </div>
            <div class="feature-card blue-border">
              <div class="feat-icon blue-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 7V5a4 4 0 00-8 0v2"/></svg>
              </div>
              <div>
                <div class="feat-title">対策6: Dockerで環境分離</div>
                <div class="feat-desc">隔離された「箱」の中で開発。感染しても本物のPCに被害なし。箱を捨てて再構築するだけ</div>
              </div>
            </div>
            <div class="feature-card blue-border">
              <div class="feat-icon blue-fi">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
              </div>
              <div>
                <div class="feat-title">対策7: セキュリティスキャンツール</div>
                <div class="feat-desc">Socket（リアルタイム監視）、Snyk（脆弱性スキャン）、npm audit（標準チェック）を導入</div>
              </div>
            </div>
          </div>

          <!-- Emergency Checklist -->
          <div style="margin-top: 24px;">
            <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
              <span class="sec-icon">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--red-500)" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
              </span>
              緊急対応チェックリスト
            </h3>
            <div class="check-list">
              <div class="check-item">
                <span class="check-mark red">1</span>
                <span class="check-label">npmトークンを無効化→再発行</span>
              </div>
              <div class="check-item">
                <span class="check-mark red">2</span>
                <span class="check-label">GitHubアクセストークンを再発行</span>
              </div>
              <div class="check-item">
                <span class="check-mark red">3</span>
                <span class="check-label">SSH鍵を再生成</span>
              </div>
              <div class="check-item">
                <span class="check-mark red">4</span>
                <span class="check-label">.env / .npmrc に不審な変更がないか確認</span>
              </div>
              <div class="check-item">
                <span class="check-mark red">5</span>
                <span class="check-label">公開パッケージに不審な変更がないか確認</span>
              </div>
              <div class="check-item">
                <span class="check-mark red">6</span>
                <span class="check-label">npm audit を実行して脆弱性チェック</span>
              </div>
            </div>
            <div class="loop-note red-note" style="margin-top: 8px;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
              疑わしければ即対応。後回しにしないでください。
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ JAVASCRIPT ============ -->
  <script>
    function navigate(page) {
      window.location.hash = page;
    }

    function showPage(hash) {
      const pageId = hash.replace('#', '') || 'overview';
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const target = document.getElementById(pageId);
      if (target) {
        target.classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        document.getElementById('overview').classList.add('active');
      }
    }

    window.addEventListener('hashchange', () => showPage(window.location.hash));
    showPage(window.location.hash);
  </script>
</body>
</html>
